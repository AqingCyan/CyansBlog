(window.webpackJsonp=window.webpackJsonp||[]).push([[75],{189:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),a("p",[t._v("å‰é¢æˆ‘ä»¬å®Œæˆäº†æ‰€æœ‰APIçš„åŠŸèƒ½ï¼Œå¹¶ä¸”æµ‹è¯•å®Œå¥½ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜éœ€è¦æ³¨æ„åˆ°ä¸€ç‚¹å°±æ˜¯ç™»å½•åŠŸèƒ½å¹¶ä¸å®Œå–„ï¼Œåªèƒ½è¯´æˆ‘ä»¬åªæ˜¯ç®€å•çš„åšäº†ä¸€ä¸ªéªŒè¯ã€‚è¦çŸ¥é“ï¼Œç™»å½•ä¹‹åçš„ç™»å½•æ€çš„ä¿æŒä»¥åŠå…¶ä»–è¯·æ±‚çš„èº«ä»½éªŒè¯è¿˜æ˜¯å‡æ•°æ®ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬è¿™é‡Œå°±å°†ç™»å½•åŠŸèƒ½å®Œæ•´å®ç°ã€‚")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),t._m(3),t._v(" "),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("ä»¥ä¸‹å†…å®¹å¤§æ¦‚ä½ å·²ç»çŸ¥é“äº†ï¼Œè·³è¿‡ä¹Ÿè¡Œã€‚ğŸ˜„è¿™é‡Œæœ‰ç¬”è€…å½“æ—¶è¯»è¿‡çš„ä¸€ç¯‡æ–‡ç« ï¼Œå¾ˆniceï¼š"),a("a",{attrs:{href:"https://juejin.im/post/5c8e6fa8e51d453ec75168cd",target:"_blank",rel:"noopener noreferrer"}},[t._v("æµè§ˆå™¨å­˜å‚¨å¤§æ­ç§˜"),a("OutboundLink")],1)])]),t._v(" "),t._m(4),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),t._m(9),t._v(" "),a("p",[t._v("é‚£ä¹ˆç¬¬ä¸€æ­¥ï¼Œæˆ‘ä»¬éœ€è¦å°†å®¢æˆ·ç«¯è·Ÿéšè¯·æ±‚å‘é€è¿‡æ¥çš„cookieè¿›è¡Œè§£æï¼Œä¸å¤„ç†pathä¸queryä¸€æ ·ï¼Œæˆ‘ä»¬åœ¨app.jsä¸­ç»Ÿä¸€åšå¤„ç†")]),t._v(" "),t._m(10),t._m(11),t._v(" "),t._m(12),t._v(" "),t._m(13),t._v(" "),t._m(14),t._m(15),t._v(" "),t._m(16),t._v(" "),a("p",[t._v("é‚£ä¹ˆç°åœ¨æˆ‘ä»¬å°±éœ€è¦åšä¸€ä¸ªéœ€æ±‚ï¼Œåœ¨ç™»å½•æˆåŠŸçš„æ—¶å€™ï¼Œé¡ºä¾¿ä»æœåŠ¡ç«¯è®¾ç½®æµè§ˆå™¨çš„cookieï¼Œç­‰ä¸‹æ¬¡æµè§ˆå™¨å†æ¥éªŒè¯cookieæ¥åšç™»å½•éªŒè¯çš„æ—¶å€™ï¼Œå°±å¯ä»¥åšä¸€ä¸ªå®Œæˆçš„ç™»å½•å†éªŒè¯çš„æµç¨‹ï¼Œä¹Ÿç®—æ˜¯é€šè¿‡cookieå®ç°äº†ä¸€ä¸ªä¸´æ—¶çš„ç™»å½•æ€çš„ä¿æŒ")]),t._v(" "),t._m(17),t._m(18),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),t._m(23),t._v(" "),t._m(24),t._v(" "),t._m(25),t._v(" "),t._m(26),t._m(27),t._v(" "),t._m(28),t._v(" "),a("p",[t._v("cookieæ˜¯å­˜å‚¨åœ¨æµè§ˆå™¨ä¸­çš„å­—ç¬¦ä¸²ï¼Œç”¨ä½œå­˜å‚¨æŸäº›ä¿¡æ¯ç»´æŒçŠ¶æ€ï¼Œæ¯”å¦‚ç™»å½•ç­‰ç­‰ã€‚ä½†é™äºcookieç”Ÿå­˜æœŸé™å°±åˆ°æµè§ˆå™¨å…³é—­ä¸ºæ­¢ï¼Œæˆ‘ä»¬æƒ³åšåˆ°å‡ å¤©å†…è‡ªåŠ¨ç™»å½•è¿™æ ·çš„éœ€æ±‚æ˜¯è¿œè¿œä¸å¤Ÿçš„ã€‚")]),t._v(" "),a("p",[t._v("å› æ­¤ï¼Œcookieä¹Ÿå¯ä»¥ç”±æœåŠ¡ç«¯è®¾ç½®è¿‡æœŸæ—¶é—´ï¼Œè®¾ç½®å¥½è¿‡æœŸæ—¶é—´çš„cookieï¼Œå³ä½¿æµè§ˆå™¨å…³é—­ä¹Ÿä¼šå­˜å‚¨åˆ°ç¡¬ç›˜ä¸­ï¼Œç›´åˆ°è¿‡æœŸæ—¶é—´åˆ°æ¥ã€‚")]),t._v(" "),t._m(29),a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("è¡¥å……")]),t._v(" "),a("p",[t._v("å½“ç„¶ï¼Œcookieè¿˜æœ‰å¾ˆå¤šçš„å­¦é—®å¯ä»¥è¿›è¡Œæ¢ç©¶ï¼Œè¿™é‡Œæœ‰ä¸€ç¯‡æ–‡ç« è¿›è¡Œè¡¥å……ï¼Œå¯ä»¥è¡¥å……çœ‹çœ‹ç¬”è€…è®²åˆ°çš„çŸ¥è¯†ç‚¹ä¹‹å¤–çš„å†…å®¹ï¼š"),a("a",{attrs:{href:"https://segmentfault.com/a/1190000004743454#articleHeader7",target:"_blank",rel:"noopener noreferrer"}},[t._v("cookieè¯¦è§£"),a("OutboundLink")],1),t._v("ã€‚")])])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"çœŸæ­£ç™»å½•çš„å®ç°"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#çœŸæ­£ç™»å½•çš„å®ç°","aria-hidden":"true"}},[this._v("#")]),this._v(" çœŸæ­£ç™»å½•çš„å®ç°")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"ç™»å½•æ ¡éªŒ-ç™»å½•ä¿¡æ¯å­˜å‚¨"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ç™»å½•æ ¡éªŒ-ç™»å½•ä¿¡æ¯å­˜å‚¨","aria-hidden":"true"}},[this._v("#")]),this._v(" ç™»å½•æ ¡éªŒ&ç™»å½•ä¿¡æ¯å­˜å‚¨")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("åšå®¢çš„åˆ é™¤ã€æ›´æ–°ä¹‹ç±»çš„åŠŸèƒ½ï¼Œæˆ‘ä»¬éƒ½éœ€è¦å¯¹ç™»å½•è¿›è¡Œä¸€ä¸ªéªŒè¯ï¼Œç¡®ä¿æ˜¯æœ¬äººæ“ä½œï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦å®Œæˆç™»å½•æ ¡éªŒã€‚")]),this._v(" "),s("li",[this._v("ç™»å½•ä¹‹åï¼Œæœ‰ä¸€äº›å¿…è¦çš„ä¿¡æ¯è¿›è¡Œå­˜å‚¨ï¼Œä»¥ä¾¿äºå…¶ä»–ä¸šåŠ¡çš„éªŒè¯ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookie","aria-hidden":"true"}},[this._v("#")]),this._v(" cookie")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"ä»€ä¹ˆæ˜¯cookie"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#ä»€ä¹ˆæ˜¯cookie","aria-hidden":"true"}},[this._v("#")]),this._v(" ä»€ä¹ˆæ˜¯cookie")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("æœ¬è´¨ä¸Šæ˜¯å­˜å‚¨åœ¨æµè§ˆå™¨çš„ä¸€æ®µå­—ç¬¦ä¸²ï¼ˆæœ€å¤§5kbï¼‰ï¼Œå¹¶ä¸”è·¨åŸŸä¸å…±äº«ã€‚æ ¼å¼å¦‚"),a("code",[t._v("k1=v1;k2=v2;k3=v3;")]),t._v("ï¼Œå› æ­¤å¯ä»¥ç»“æ„åŒ–æ•°æ®")]),t._v(" "),a("li",[t._v("æ¯æ¬¡å‘é€httpè¯·æ±‚ï¼Œä¼šå°†è¯·æ±‚åŸŸçš„cookieä¸€èµ·å‘é€ç»™server")]),t._v(" "),a("li",[t._v("serverå¯ä»¥ä¿®æ”¹cookieå¹¶è¿”å›ç»™æµè§ˆå™¨")]),t._v(" "),a("li",[t._v("æµè§ˆå™¨ä¸­ä¹Ÿå¯ä»¥é€šè¿‡JavaScriptä¿®æ”¹cookieï¼ˆæœ‰é™åˆ¶ï¼‰")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"cookieçš„æŸ¥çœ‹"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookieçš„æŸ¥çœ‹","aria-hidden":"true"}},[this._v("#")]),this._v(" cookieçš„æŸ¥çœ‹")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("nameï¼šcookieçš„é”®å")]),t._v(" "),a("li",[t._v("pathï¼šcookieèµ·æ•ˆçš„baseè·¯å¾„")]),t._v(" "),a("li",[t._v("valueï¼šcookieçš„å€¼")]),t._v(" "),a("li",[t._v("Domainï¼šcookieå¯ä»¥èµ·æ•ˆçš„åŸŸå")]),t._v(" "),a("li",[t._v("Expiresï¼šcookieçš„æœ‰æ•ˆæœŸ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("cookieçš„æŸ¥çœ‹æ–¹å¼å¤šç§å¤šæ ·ï¼Œå¯ä»¥åœ¨æ§åˆ¶å°çš„Applicationä¸­æŸ¥çœ‹ï¼Œä¹Ÿå¯ä»¥é€šè¿‡"),s("code",[this._v("document.cookie")]),this._v("æŸ¥çœ‹æˆ–è€…æ·»åŠ (æ·»åŠ å®é™…ä¸Šæ˜¯ç´¯åŠ )ï¼Œè¿˜å¯ä»¥é€šè¿‡æ’ä»¶æŸ¥çœ‹ã€‚ä½†éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œé€šè¿‡JSæŸ¥çœ‹cookieå­˜åœ¨ä¸€å®šé™åˆ¶ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"cookieåšç™»å½•éªŒè¯"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#cookieåšç™»å½•éªŒè¯","aria-hidden":"true"}},[this._v("#")]),this._v(" cookieåšç™»å½•éªŒè¯")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è§£æcookie")]),t._v("\nreq"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" cookieStr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("headers"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("''")]),t._v("\ncookieStr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("';'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("forEach")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("item "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("!")]),t._v("item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" arr "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" item"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("split")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'='")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" key "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("trim")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ‹¼æ¥cookieçš„æ—¶å€™è‡ªåŠ¨æ·»åŠ ç©ºæ ¼ï¼Œç”¨trimå¤„ç†æ‰")]),t._v("\n  req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" arr"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("é¦–å…ˆï¼Œåˆ›å»ºä¸€ä¸ªç©ºçš„å¯¹è±¡åœ¨reqä¸­ï¼Œç”¨æ¥å­˜å‚¨è§£æå¥½çš„cookieã€‚å®šä¹‰ä¸€ä¸ªcookieStræ¥å­˜å‚¨æœªå¤„ç†çš„cookieï¼Œå¹¶åšäº†ä¸€ä¸ªé˜²ç©ºå¤„ç†ã€‚å› ä¸ºcookieå­—ç¬¦ä¸²çš„å­˜å‚¨éƒ½æ˜¯ä»¥åˆ†å·åˆ†å‰²ï¼Œæ‰€ä»¥ç”¨"),s("code",[this._v("split")]),this._v("æ–¹æ³•åˆ†å‰²æˆæ•°ç»„å¹¶ä¸”éå†ï¼Œå†ä¹‹åå°†æ¯ä¸€ä¸ªcookieæŒ‰ç­‰å·æ‹†åˆ†å¹¶ä¸”ä»¥é”®å€¼å¯¹çš„å½¢å¼å­˜æŒ‰å‚¨åˆ°"),s("code",[this._v("req.cookie")]),this._v("çš„å¯¹è±¡ä¸­ã€‚")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("ç°åœ¨å¯ä»¥åŠ ä¸€å¥"),s("code",[this._v("console.log(req.cookie)")]),this._v("ï¼Œç„¶åè®¿é—®ç«¯å£ï¼Œçœ‹çœ‹æœåŠ¡ç«¯æ˜¯å¦æ‰“å°äº†è§£æå¥½çš„cookieçš„å†…å®¹ã€‚å¦‚æœæ˜¯ç©ºçš„ï¼Œå°±åœ¨æµè§ˆå™¨æ‰‹åŠ¨æ·»åŠ ä¸€ä¸ªcookieï¼š"),s("code",[this._v('document.cookie="name=Aqing"')]),this._v("ã€‚å†è®¿é—®è¯•è¯•ï¼ğŸ‘Œ")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ç°åœ¨æˆ‘ä»¬å†åšä¸€ä¸ªç®€å•çš„æµ‹è¯•æ¥ä½¿ç”¨cookieåšä¸€ä¸ªç™»å½•æ€çš„éªŒè¯ã€‚å‡è®¾ä¸€ä¸ªè·¯ç”±å«"),s("code",[this._v("login-test")]),this._v("ï¼Œåœ¨"),s("code",[this._v("router/user.js")]),this._v("ä¸­è¿™ä¹ˆå†™")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ç™»å½•éªŒè¯çš„æµ‹è¯•")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'GET'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/user/login-test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cookie"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SuccessModel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" Promise"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorModel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'å°šæœªç™»å½•'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("å¦‚æœï¼Œè·¯ç”±å‘½ä¸­äº†"),s("code",[this._v("/api/user/login-test")]),this._v("ï¼Œä¸”æ˜¯"),s("code",[this._v("GET")]),this._v("æ–¹æ³•ï¼ˆä»…åšéªŒè¯ï¼‰ï¼Œå°±åˆ¤æ–­cookieä¸­æ˜¯å¦å­˜åœ¨"),s("code",[this._v("username")]),this._v("ï¼Œå¹¶åšç›¸åº”å¤„ç†ã€‚ç„¶åé€šè¿‡æµè§ˆå™¨è®¿é—®8000ç«¯å£ï¼ŒæŸ¥çœ‹æ˜¯å¦æç¤ºæˆ‘ä»¬çš„ç™»å½•æ€ã€‚é€šè¿‡å‰ç«¯å†™å…¥cookieå†çœ‹çœ‹æ˜¯å¦æç¤ºæˆ‘ä»¬ç™»å½•ã€‚")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),a("p",[t._v("æˆ‘ä»¬è¿”å›å‡ºå»çš„ç»“æœå¿…é¡»æ˜¯Promiseçš„å®ä¾‹ï¼Œä¸ç„¶app.jsä¸­ä½¿ç”¨çš„"),a("code",[t._v("then")]),t._v("æ–¹æ³•æ— æ³•å¤„ç†æ•°æ®ã€‚"),a("code",[t._v("Promise.resolve(value)")]),t._v("æ–¹æ³•è¿”å›ä¸€ä¸ªä»¥ç»™å®šå€¼è§£æåçš„Promise å¯¹è±¡ã€‚ä½†å¦‚æœè¿™ä¸ªå€¼æ˜¯ä¸ª"),a("code",[t._v("thenable")]),t._v("ï¼ˆå³å¸¦æœ‰thenæ–¹æ³•ï¼‰ï¼Œè¿”å›çš„promiseä¼šâ€œè·Ÿéšâ€è¿™ä¸ªthenableçš„å¯¹è±¡ï¼Œé‡‡ç”¨å®ƒçš„æœ€ç»ˆçŠ¶æ€ï¼ˆæŒ‡resolved/rejected/pending/settledï¼‰ï¼›å¦‚æœä¼ å…¥çš„valueæœ¬èº«å°±æ˜¯promiseå¯¹è±¡ï¼Œåˆ™è¯¥å¯¹è±¡ä½œä¸º"),a("code",[t._v("Promise.resolve")]),t._v("æ–¹æ³•çš„è¿”å›å€¼è¿”å›ï¼›å¦åˆ™ä»¥è¯¥å€¼ä¸ºæˆåŠŸçŠ¶æ€è¿”å›promiseå¯¹è±¡ã€‚")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// å¯¹ç™»å½•è·¯ç”±åšä¸€ä¸ªä¿®æ”¹")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("method "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'POST'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("path "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/api/user/login'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" req"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("login")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" password"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("then")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æ“ä½œcookie")]),t._v("\n      res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Set-Cookie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`username=")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("; path=/`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("SuccessModel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("ErrorModel")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'ç™»å½•å¤±è´¥'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"tip custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),s("p",[this._v("å¦‚æœæƒ³è¦åšä¸€ä¸ªæµ‹è¯•çš„è¯ï¼Œå¯ä»¥å°†ç™»å½•çš„è·¯ç”±çš„å‘½ä¸­åˆ¤æ–­æ”¹ä¸º"),s("code",[this._v("GET")]),this._v("ï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—®åœ¨urlå¸¦ä¸Šå‚æ•°åšç™»å½•ï¼Œå¹¶ä¸”å°†ç”¨æˆ·åå’Œå¯†ç çš„è·å–æ”¹ä¸º"),s("code",[this._v("const {username, password} = req.query")]),this._v("ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ä¸ºäº†æ›´å¥½çš„çœ‹åˆ°æ•ˆæœï¼Œæˆ‘ä»¬å¯ä»¥å°†"),s("code",[this._v("return Promise.resolve(new SuccessModel(req.cookie.username))")]),this._v("åšå¦‚æ­¤ä¿®æ”¹ã€‚")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("åœ¨ç™»å½•æˆåŠŸçš„æ—¶å€™ï¼Œ"),a("code",[t._v("res.header()")]),t._v("ä¼šè®¾ç½®cookieåˆ°æµè§ˆå™¨ä¸­")]),t._v(" "),a("li",[a("code",[t._v("Set-Cookie")]),t._v("å­—æ®µä¼šè®©æµè§ˆå™¨è‡ªåŠ¨è®¾ç½®cookieå†…å®¹ï¼Œ"),a("code",[t._v("path")]),t._v("å­—æ®µæŒ‡æ˜è¯¥cookieç”Ÿæ•ˆçš„èŒƒå›´")]),t._v(" "),a("li",[t._v("æ­¤åï¼Œæ¯æ¬¡æµè§ˆå™¨å‘æ¥çš„è¯·æ±‚ä¼šè‡ªå¸¦è¢«è®¾ç½®çš„cookie")]),t._v(" "),a("li",[t._v("ä½¿ç”¨login-testå»éªŒè¯æ˜¯å¦ç™»å½•çš„çŠ¶æ€ï¼Œå®é™…ä¸Šæ˜¯æ£€éªŒcookieçš„å†…å®¹ï¼Œcookieå­˜åœ¨ï¼Œè¯´æ˜æ˜¯ç™»å½•çš„çŠ¶æ€ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"warning custom-block"},[s("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),s("p",[this._v("ä»…ä»…æ˜¯ä»¥ä¸Šå†…å®¹è¿˜æ˜¯ä¸å¤Ÿï¼Œå¯¹äºç›®å‰çš„é¡¹ç›®ï¼Œcookieæ˜¯ä¸€ä¸ªæå…¶å±é™©çš„ä¸œè¥¿äº†ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"å¯¹cookieåšé™åˆ¶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#å¯¹cookieåšé™åˆ¶","aria-hidden":"true"}},[this._v("#")]),this._v(" å¯¹cookieåšé™åˆ¶")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"httponly"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#httponly","aria-hidden":"true"}},[this._v("#")]),this._v(" httpOnly")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("ç”±äºå¯¹cookieçš„éªŒè¯ååˆ†çš„ç®€å•ï¼Œå› æ­¤ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡åœ¨æµè§ˆå™¨ç«¯æ‰‹åŠ¨ä¿®æ”¹æ·»åŠ cookieçš„æ–¹å¼æ¥ç»•è¿‡ç™»å½•éªŒè¯ï¼Œè¿™æ˜¯"),s("strong",[this._v("æå…¶ä¸å®‰å…¨çš„ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("è¿™ä¸ªæ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åœ¨cookieçš„è®¾ç½®ä¸Šåšä¸€äº›é™åˆ¶ï¼šhttpOnlyã€‚å®ƒçš„ä½œç”¨å¾ˆæ¸…æ™°ï¼š"),s("strong",[this._v("æŒ‡æ˜è¿™ä¸ªcookieçš„ä½œç”¨ç”¨äºhttpçš„ï¼Œæµè§ˆå™¨æ²¡æœ‰æƒé™å»å¯¹å…¶è¿›è¡Œæ“ä½œï¼Œæ— æƒä¿®æ”¹")]),this._v("ï¼Œæµè§ˆå™¨ä¹Ÿæ— æ³•è®¿é—®åˆ°è¯¥cookieã€‚")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[t._v("res"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Set-Cookie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`username=")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("; path=/; httpOnly`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"tip custom-block"},[a("p",{staticClass:"custom-block-title"},[t._v("åšä¸ªæµ‹è¯•")]),t._v(" "),a("p",[t._v("è™½ç„¶æŒ‡å®šäº†cookieä¸­çš„"),a("code",[t._v("username")]),t._v("ä¸º"),a("code",[t._v("httpOnly")]),t._v("è®©JSæ— æ³•ä¿®æ”¹cookieï¼Œä½†æ˜¯é€šè¿‡"),a("code",[t._v("document.cookie")]),t._v("çš„æ–¹å¼æ·»åŠ "),a("code",[t._v("username")]),t._v("ä»ç„¶ä¸ä¼šæŠ¥é”™ï¼ŒæŸ¥çœ‹cookieå‘ç°ä¸ä»…æœåŠ¡ç«¯è®¾ç½®çš„cookieä¼šå­˜åœ¨ï¼ŒJSè®¾ç½®çš„cookieä¹Ÿåœ¨ã€‚å…¶åŸå› æ˜¯"),a("code",[t._v("httpOnly")]),t._v("å¯¹cookieçš„é™åˆ¶ä½¿å®ƒå˜å¾—ç‹¬ä¸€ï¼Œä¸æµè§ˆå™¨çš„å…¶ä»–cookieä¸ä¸€æ ·ã€‚")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"è¿‡æœŸè®¾ç½®"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#è¿‡æœŸè®¾ç½®","aria-hidden":"true"}},[this._v("#")]),this._v(" è¿‡æœŸè®¾ç½®")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/**\n * è·å–è¿‡æœŸæ—¶é—´\n */")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("getCookieExpires")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" d "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getTime")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("60")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// ä¿å­˜ä¸€å¤©")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" d"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("toGMTString")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// è®¾ç½®cookieçš„æ—¶å€™ä¹Ÿåº”è¯¥åŠ ä¸Šè¿‡æœŸæ—¶é—´äº†")]),t._v("\nres"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setHeader")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Set-Cookie'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`username=")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("username"),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("; path=/; httpOnly; expires=")]),a("span",{pre:!0,attrs:{class:"token interpolation"}},[a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getCookieExpires")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])])}],!1,null,null,null);s.default=e.exports}}]);